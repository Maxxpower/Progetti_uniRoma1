<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head></h:head>
<h:body>
	<h:outputStylesheet library="css" name="styles.css" />
	<h:panelGroup id="table">
		<h:form>
			<h:dataTable value="#{tableBean.records}" var="hive" border="1">
				<h:column>
					<f:facet name="header">N. Arnia</f:facet>
					<h:outputText id="NomeArnia" value="#{hive.name}"
						rendered="#{!hive.editable}" />
					<h:inputText id="InArnia" value="#{hive.name}"
						rendered="#{hive.editable}" />
				</h:column>


				<h:column>
					<f:facet name="header">Ultimo Controllo</f:facet>
					<h:outputText id="dataControllo" value="#{hive.checked_at}"
						styleClass="#{hive.getDateColorClass(hive.checked_at)}">
						<f:convertDateTime dateStyle="full" timeZone="CET" type="date" />
					</h:outputText>

				</h:column>

				<h:column>
					<f:facet name="header">Controllo Regina</f:facet>
					<h:outputText id="controlloRegina"
						value="#{hive.queen_bee_checked_at}"
						styleClass="#{hive.getDateColorClass(hive.queen_bee_checked_at)}">
						<f:convertDateTime dateStyle="full" timeZone="CET" type="date" />
					</h:outputText>
					<p:tooltip id="tooltipRegina" for="controlloRegina">
						<li><b>Colore ape regina:</b> <h:outputText
								value="#{not empty hive.queen_bee_color ? hive.queen_bee_color : 'Regina non colorata!'}"
								styleClass="#{not empty hive.queen_bee_color ? 'WHITE_DATE' : 'TOO_OLD_DATE'}" /></li>
						<li><b>Salute ape regina:</b> <h:outputText
								value="#{hive.queen_bee_goodness}" /></li>
					</p:tooltip>
				</h:column>

				<h:column>
					<f:facet name="header">Controllo varroa</f:facet>
					<h:outputText id="controlloVarroa"
						value="#{hive.varroa_checked_at}">
						<f:convertDateTime dateStyle="full" timeZone="CET" type="date" />
					</h:outputText>
					<p:tooltip id="tooltipVarroa" for="controlloVarroa">
						<li><b>Stato varroa: </b> <h:outputText
								value="#{hive.varroa_status}"
								styleClass="#{hive.varroaStateColorClass()}" /></li>
						<li><b>Controllo vassoio: </b> <h:outputText
								value="#{hive.tray_checked_at}"
								styleClass="#{hive.getDateColorClass(hive.tray_checked_at)}">
								<f:convertDateTime dateStyle="full" timeZone="CET" type="date" />
							</h:outputText></li>
					</p:tooltip>
				</h:column>

				<h:column>
					<f:facet name="header">Aiuto invernale</f:facet>
					<h:outputText id="winterCheck" value="#{hive.candy_supplied_at}"
						styleClass="#{hive.getDateColorClass(hive.candy_supplied_at)}">
						<f:convertDateTime dateStyle="full" timeZone="CET" type="date" />
					</h:outputText>


					<p:tooltip id="tooltipWinter" for="winterCheck">
						<li><b>Controllo sciroppo 1: </b> <h:outputText
								value="#{hive.syrup1_supplied_at}"
								styleClass="#{hive.getDateColorClass(hive.syrup1_supplied_at)}">
								<f:convertDateTime dateStyle="full" timeZone="CET" type="date" />
							</h:outputText></li>
						<li><b>Controllo sciroppo 2: </b> <h:outputText
								value="#{hive.syrup2_supplied_at}"
								styleClass="#{hive.getDateColorClass(hive.syrup2_supplied_at)}">
								<f:convertDateTime dateStyle="full" timeZone="CET" type="date" />
							</h:outputText></li>
						<li><b>Controllo candito:</b> <h:outputText
								value="#{hive.candy_supplied_at}"
								styleClass="#{hive.getDateColorClass(hive.candy_supplied_at)}">
								<f:convertDateTime dateStyle="full" timeZone="CET" type="date" />
							</h:outputText></li>
					</p:tooltip>

				</h:column>

				<h:column>
					<f:facet name="header">Produzione miele</f:facet>
					<h:outputText value="#{hive.honey_production_qty}" />
				</h:column>
				<h:column>
					<h:commandButton value="edit"
						action="#{tableBean.setEditable(hive)}"
						rendered="#{!hive.editable}">
						<f:ajax execute="@form" render=" :table" />
					</h:commandButton>
					<h:commandButton value="edit"
						action="#{tableBean.testAction(hive)}" rendered="#{hive.editable}">
						<f:ajax execute="@form" render=" :table" />
					</h:commandButton>
				</h:column>

			</h:dataTable>
		</h:form>
	</h:panelGroup>



</h:body>





</html>